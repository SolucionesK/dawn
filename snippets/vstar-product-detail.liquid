
<script id="vstar_product_rating" type="application/json">{{ product.metafields.vstar.product_rating }}</script>
<script>
    var vstar_product_rating = document.querySelector('#vstar_product_rating').textContent == "" ? {"rating":0,"total_reviews":0,"total_star1":0,"total_star2":0,"total_star3":0,"total_star4":0,"total_star5":0} : JSON.parse(document.querySelector('#vstar_product_rating').textContent);
</script>

<script id="vstarSchemaJson" type="application/ld+json">
	{
		"@context": "http://schema.org",
		"@type": "Product",
		"@id": {{ request.origin | append: product.url | json }},
		"aggregateRating": {
			"@type": "AggregateRating",
			"ratingValue": {{ product.metafields.vstar.rating_value }},
			"reviewCount": {{ product.metafields.vstar.review_count }}
		},
		"name": {{ product.title | json }}
	}
</script>
