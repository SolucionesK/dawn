// version:8.2.7
// release time: 2022-05-31 17:58:18
// Date: 2022-06-01 01:46:24
!async function(){var e;const t=Shopify.theme;let i;shopifyObj&&(i=shopifyObj.themeName);const r=t.id,o=t.theme_store_id;let n,a,s="",l="",c="",d=!1;var u=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);const p={get_move_review_info:{}};let m,v=!1,g=!1,h=!1,f=1,w=1,y=!1,_="",b=!1,C=!1,x=!1,S=!1,$="",k="",L="",A=!1,q=!1,T=5,M=!1,R=!1,H=!1,I=!1,E="0px",N="0px",P=!1,j=0,B=100,O=".",V=3,W=!1,Z=!1,F=!1,z=!1,D=!1,U=!1,G=!1,J=!1,Q="mdy",X=!1,K=!1,Y=!1;var ee=window.ShopifyAnalytics&&window.ShopifyAnalytics.meta.page.pageType;if(window.Review={},Review.observeCount=0,Review.theme={name:t.name,id:t.id,theme_store_id:t.theme_store_id},Review.pageType=ee,Review.shop=Shopify.shop,window.ShopifyAnalytics)a=window.ShopifyAnalytics&&window.ShopifyAnalytics.meta.page.pageType,n=window.ShopifyAnalytics&&ShopifyAnalytics.lib&&ShopifyAnalytics.lib.config.Trekkie.defaultAttributes.shopId,n||await new Promise((e,t)=>{setTimeout(()=>{n=ShopifyAnalytics.lib.config.Trekkie.defaultAttributes.shopId,e()},2e3)}),Review.shopId=n;else{if(!document.querySelector("#seal_shop_id"))return;const e=JSON.parse(document.querySelector("#seal_shop_id").textContent),t=JSON.parse(document.querySelector("#seal_product").textContent);l=t.id,s=t.title,c=t.image_url,n=e,i="Dawn"}[62956011772,62782865654,55742103716,64139919610,64370737371,61432889502,55924818060,61764862137,57441517591,56355684442,56531025990,63974867179,62381129913,64482148602,63841501403].includes(n)&&function(){let e=window.location.href,t=e.indexOf("pages/")+6,i=e.substring(t);["avaliacoes","born2safety-reviews","happy-customers","page-reviews","avis-de-nos-clients","reviews","nuestros-clientes","nos-clients-heureux","avis","customer-feedback","our-happy-clients"].includes(i)&&(H=!0,y=!0)}(),e="product"==ee||"collection"==ee||"home"==ee||Shopify.designMode||H,async function(){if(e){switch(function(){var e=(new Date).getTime(),t=document.createElement("link");t.rel="stylesheet",t.href="https://cdn.vstar.app/static/css/seal-review.min.css?"+e,t.onerror=function(){this.href="https://cdn.vstar.app/static/css/seal-review.min.css?"+at()},t.onload=function(){d=!0,se&&(se.parentNode.style.display="block")};var i=document.createElement("link");i.rel="stylesheet",i.href="https://cdn.vstar.app/static/css/index.css";var r=document.createElement("link");r.rel="stylesheet",r.href="https://cdn.vstar.app/static/css/viewer.min.css",document.head.appendChild(i),document.head.appendChild(t),document.head.appendChild(r)}(),n){case 62716051679:v=!0;break;case 59313553575:128332660903===r&&(R=!0);break;case 56177623130:case 63362826469:"collection"===a&&(C=!0,y=!0);break;case 63148228865:case 60778741922:case 55807082549:case 56327045210:case 55889690672:x=!0;break;case 57064587311:"home"===a&&(S=!0);break;case 63294537973:A=!0,q=!0;break;case 56182374555:T=0,q=!0;break;case 59303526584:case 56116314135:M=!0;break;case 63155437819:g=!0;break;case 63616057561:j=6;break;case 62285414579:j=5;break;case 64268566764:j=4;break;case 60390965441:$="#1087CA";break;case 63476859097:O=",";break;case 55001088183:B=100;break;case 61693296885:F=!0;break;case 55469047917:D=!0;break;case 57448333466:g=!0;break;case 57322897545:J=!0;break;case 52739145906:U=!0;break;case 64123928824:case 57908887645:V=2;break;case 64197951736:j=4;break;case 50212339891:w=2,k="#c33917",L="#fff",z=!0;break;case 55010427085:h=!0,f=2;break;case 55742103716:W=!0,Z=!0;break;case 62892474626:829===o&&(I=!0);break;case 55832150085:G=!0;break;case 62563156208:case 55960502325:case 54969565220:case 58423869606:case 56054480983:Q="dmy"}61637296380===n&&829===o&&(X=!0),62351638785===n&&131270574337===r&&(Y=!0),(59274690709===n&&129408467093===r||56064114778===n&&121958465626===r||63026397435===n&&887===o)&&(K=!0);const e={getUserSetting(){let e={shop_id:n};return o?e.theme_store_id=o:e.theme_id=r,it("users/get_reviews_settings",e)},getUserNeed:()=>it("users/get_user_needs_info",{shop_id:n}),getLang:()=>it(`https://cdn.vstar.app/static/lang/${Review.lang}.json?`+at(),void 0,"get",!0),getProductRating(e){let t={shop_id:n};return l?t.product_id=l:e&&(t.product_handle=e),it("reviews/get_product_rating",t)},getCollRating(e,t){let i={shop_id:n};return e?i.product_handle=e:i.product_id=t,it("reviews/get_products_rating",i)},getProRevList(){let e=Ie(),t={shop_id:n,page:e,limit:layoutReviewCount};return y?t.is_show_all=1:t.product_id=l,t.sort_by=ve.review_sort_by,U&&(t.lang=Review.lang),it("reviews/get_product_reviews",t)},getProductInfo(e){let t={shop_id:n};return e?t.product_title=e:t.product_id=l,it("products/get_shopify_product_info",t)},getOnlyOneProduct:()=>it("products/get_product_only_one",{shop_id:n}),sendErrorMsg(e,t){let i={shop_id:n,type:e,content:`${t}，店铺id为${n}，主题theme_store_id为${o}，主题id为${r}，主题名为${Shopify.theme.name}，店铺地址为：${window.location.href}`};const a=Review.theme;a.theme_store_id?i.theme_store_id=a.theme_store_id:i.theme_id=a.id,it("feedback/warning_feedback",i,"post")},sendReview:e=>it("reviews/add",e,"post"),uploadImage:function(e){return it("upload/image_upload",e,"post",!1)},uploadReview:e=>it("reviews/add",e,"post")};function i(e){switch(ye=we.show_full_review,56729665593===n&&"portuguese"===Review.lang?(we.write_reviews="Deixe seu comentário",we.star="ESTRELA",we.reviews="Avaliações",ye="Mostrar revisão completa"):61688021238===n&&"portuguese"===Review.lang?we.reviews="Avaliação":62716051679===n&&"de"===Review.lang?we.reviews="Bewertungen":60442673377===n&&"pt"===Review.lang?(we.reviews="Avaliações",we.feedback="Seu Comentário",we.submit="Enviar Comentário"):31877726339===n&&"pt"===Review.lang?we.write_reviews="Avaliar":63587778794===n&&"en"===Review.lang&&(we.feedback="Share your feedback with My Little Store"),n){case 50212339891:"en"===Review.lang&&(we.write_reviews="WRITE A REVIEW",we.no_reviews="Be the first one to review")}}var ee=0,te=null,ie=[],re="",oe=[],ne=[],ae=null,se=null,le={};layoutClass="",layoutReviewCount=0;var ce=0,de=5,ue=0,pe=0,me=0,ve={},ge=null,he=[],fe=[],we={},ye="Show full review";let wt,yt=0,_t=0,bt=0,Ct=0,xt=[],St=null,$t=[],kt=0;var _e=0;let Lt,At=!1,qt=6;isHomeShowRating=!1;var be=[],Ce=!1,xe=[];let Tt="";const Mt=Review.theme;Tt=Mt.theme_store_id?`theme_store_id=${Mt.theme_store_id}`:`theme_id=${Mt.id}`,async function(t){let o;[wt,o]=await e.getUserSetting();const[d,m]=await e.getUserNeed();if(null===d){m.get_move_review_info.list.forEach(e=>{e.theme_id==r&&(p.get_move_review_info=e)})}if(wt)Review.is_install="get reviews' settings is failed";else if(o){if(Review.is_install=o.is_install,Review.is_product_open=o.is_activate_product_rating,Review.is_reviews_open=o.is_activate_reviews,Review.is_collection_open=o.is_activate_collection_rating,Review.is_activate_home_rating=o.is_activate_home_rating,Review.is_show_stars_without_review=o.is_show_stars_without_review,Review.theme_version=o.theme_version,ve=o,Review.lang=Shopify.locale,St=document.createElement("style"),St.id="review-css",document.head.appendChild(St),"collection"!=a||R||C){1==o.layout?(layoutClass="list-",de=3):2==o.layout&&(layoutClass="grid-",de=5),layoutReviewCount=ve.reviews_per_page_number,0!==j&&(layoutReviewCount=j);const e="vstar-";St.innerHTML+=`\n                            .star-item i:before{color:${ve.star_color}}\n                            #${e}reviews,#${e}noreviews{\n                                background-color: ${o.box_bg_color};\n                            }\n                            #${e}reviews p,#${e}noreviews p,#${e}reviews div,#${e}noreviews div,#${e}reviews span,#${e}noreviews span,\n                            #${e}reviews .page-control-item{\n                                color: ${o.font_color};\n                            }\n                            #${e}reviews .grid-review-body-button,#${e}reviews .head-button,#${e}noreviews .noreviews-button{\n                                color: ${o.font_color};\n                                border-color: ${o.font_color}\n                            }\n                            #${e}reviews .head-button:hover,#${e}noreviews .noreviews-button:hover,#${e}reviews .page-control-item:hover,\n                            #${e}reviews .page-control-button:hover{\n                                border:1px solid;\n                                border-color: ${st(o.font_color,.6)}\n                            }\n                            .viewer-container{\n                                z-index:9999999999 !important\n                            }\n                            `,u&&"list-"===layoutClass||(St.innerHTML+=`.list-review-body-item,.grid-review-body-item{\n                                    background-color: ${o.card_bg_color}\n                                }`);let t=["en","it","tr","pt","fr","es","de","ar","sv","nl","he","bg","ms","ja","pl","fi","hr","sl"];U||56585584777===n?(Review.lang=Shopify.locale.split("-")[0],t.includes(Review.lang)||(Review.lang=o.language)):Review.lang=o.language}if(St.innerHTML+=".collection-icon-list.center{justify-content: center}.collection-icon-list.right{justify-content: end}","product"==a)l=shopifyObj.productId,c=shopifyObj.productImage[0],s=shopifyObj.productName,o.is_activate_reviews,ve.box_bg_color=o.box_bg_color,1==o.layout?((1==o.is_transparent||u)&&(o.is_transparent=0),ve.card_bg_color=st(o.card_bg_color,o.is_transparent)):ve.card_bg_color=o.card_bg_color,ve.font_color=o.font_color,ve.is_show_country_flag=o.is_show_country_flag,2!==o.is_install&&([wt,we]=await e.getLang(),i(),rt());else if("collection"==a){if("2.0"===o.theme_version&&document.getElementById("seal-review-collection"))return;if(2!==o.is_install&&2!=o.is_activate_collection_rating){if(X&&await new Promise((e,t)=>{setTimeout(()=>e(),2e3)}),Ae(),0===ie.length&&0!==shopifyObj.productList.length)return void nt(3,"主题收藏页评价未找到嵌入位置");Se(2)}1===ve.is_activate_reviews&&C&&([wt,we]=await e.getLang(),i(),Me({}))}else if("home"===a){let t;if(1===o.is_activate_home_reviews){b=!0;let[i,r]=await e.getOnlyOneProduct();t=r,t&&(l=t.product_id,s=t.product_title,c=t.image_src)}if(2===o.is_install||2===o.is_activate_home_rating&&!b)return;if(Le(),1===o.is_activate_home_rating){isHomeShowRating=!0,Ae();let e=ie.length;1===e?ie[0]===te?ie=[]:Se(3):0!==e?(ie.includes(te)&&(te=null),Se(3)):nt(7,"首页产品列表未找到嵌入位置")}if(55587831893===n&&(l=6728978202709),!l&&te){let t;!function(){s=Y?te.innerText:te.textContent;s=s.replace(/\n/g,"").trim(),s=s.replace(/[%]/g,"%25"),s=s.replace(/[#]/g,"%23"),s=s.replace(/[&]/g,"%26"),s=s.replace(/[/]/g,"%2F"),s=s.replace(/[=]/g,"%3D"),s=s.replace(/[?]/g,"%3F")}(),[wt,t]=await e.getProductInfo(s),t&&(l=t.product_id,c=t.image_src)}if(1===o.is_activate_home_reviews&&(t||l||(y=!0)),!l&&!y)return;[wt,we]=await e.getLang(),i(),rt()}else Shopify.designMode?([wt,we]=await e.getLang(),i(),rt()):H&&([wt,we]=await e.getLang(),Me({}))}else Review.is_install=2}(),xe.push("http://pv.sohu.com/cityjson?ie=utf-8"),xe.push("https://cdn.vstar.app/static/js/viewer.min.js?"+at()),xe.forEach((e,t)=>{var i=document.createElement("script");i.src=e,document.head.appendChild(i)});const Rt=function(e){let t="";if(e.length)for(let i=0;i<e.length;i++)if(e[i]&&"A"===e[i].tagName&&e[i].getAttribute("href")){i>0&&(t+=",");let r=e[i].getAttribute("href"),o=r.lastIndexOf("/products/")+10,n=r.indexOf("?");t+=-1!=n?r.substring(o,n):r.substring(o)}return t=t.replace(/[#]/g,""),t};async function Se(t){let i;if(1==t){if(!document.getElementById("seal-star-rating-widge")){if(setTimeout(()=>{vt('a[href*="/products/"],.product-recommendations')&&(Ae(),0!==ie.length?Se(2):ke())},1e3),Le(),!te)return;Te()}}else if(2==t){if(0===ie.length)return;let e=$e();i=Rt(e),_=i}else if(3==t){let e=$e();i=Rt(e),_=i}if(1!==t){let t;i?([wt,t]=await e.getCollRating(i,void 0),Te(t)):"product"===a&&ke()}}function $e(){let e=[];if(-1===(ie=Array.from(ie)).findIndex(e=>"A"!==e.tagName))return ie;if(-1===ie.findIndex(e=>null===vt("a",e)))return ie.map(e=>vt("a",e));let t,i=ie[0],r=!1,o=!1;for(let n=0;n<ie.length;n++){r=!1,o=!1,i=ie[n],t=null;for(let e=0;e<qt;e++){if(i=i.parentNode,"A"===i.tagName){r=!0,o=!0,t=i;break}let e=vt("a",i);if(e){o=!0,t=e;break}}t?e.push(t):ie[n]=null}return e}const Ht=Ze(()=>{if(Lt.disconnect(),R){let t=vt(".screen-layer--is-active");if(t&&!t.querySelector("#reviews-wrapper"))m=t,l=t.getAttribute("data-product-id"),async function(t,i){_.split(",");let r,o,n=t.querySelector(".product-section"),a=t.querySelector(".product-single__title"),l=[e.getLang(),e.getProductInfo()];r=await Promise.all(l),we=r[0][1],o=r[1][1],c=o.image_src,s=o.product_title,te=a,await rt({tarNode:n,tarWindow:t,position:"afterend"}),i()}(t,ke);else{let e;if(t&&(e=t.querySelector("#vstar-reviews"),e)){se=t.querySelector("#vstar-reviews"),l=se.getAttribute("productId"),c=se.getAttribute("imgSrc"),s=se.getAttribute("productName");let e=vt("#add-review");e.querySelector(".product-image").style.backgroundImage=`url(${c})`,e.querySelector(".product-right").innerHTML=s,Et(c)}ke()}}else{const e=Array.from(ie).map(e=>e.textContent.replace(/\n/g,"").trim()).join();Ae();let t=Array.from(ie).map(e=>e.textContent.replace(/\n/g,"").trim()).join();0!==gt(".collection-icon-list").length&&e===t?ke():(Review.observeCount++,Se(2),Review.collectionTarget=ie)}},300);function ke(){ft(document.body,{childList:!0,subtree:!0},(function(e,t){Ht()}))}function Le(){if(te)return;let e;e=function(){let e={};var t=".product-single__title",i=".product__title",r='.grid-item>h1.h2[itemprop="name"]',n='.grid__item>h1.h2[itemprop="name"]';let a;switch(o){case 730:case 578:case 775:case 796:case 380:a=t;break;case 887:case 829:case 1356:case 1363:case 1368:a=i;break;case 679:a=r;break;case 766:a=n;break;default:a=[t,i,r,n].join(",")}e.main=a;let s=[];s.push(".product__title .product__title--template",".ProductMeta__Title",".product_title",".tt-product-single-info .tt-title",".product-block-list__item .product-meta__title",".product-title",".gt_atom-cZGCOCvfkBpcRgQ_productTitle",".pr_title",".prd-block_title",".productInfo h1",".product_name",".product-description-header",".layout-column-half-right>.title",".product-page-info__title>h1",".sc-ksHpcM",".uppercase",".sc-gyElHZ",".sc-gUQvok",".sc-cjrPHo","h1.gt_heading","#popup_cart_title",".sc-gnnDb",".apb_product_detail_information_title",".product-area__details__title",".product-info>h3.title30",".gt_product-content>h2",".product-detail__title","span[data-pf-type]",".prod__title",".product-meta>.product-meta__title",".productInfo>h2",".product-name",".product__section-title>h1");let l=["h3[data-product-type]","h2[data-product-type]",".page-header h1.title",".title-detail",".title>h1",".title-row>h1.title","h2.product-page--heading",".block.type-title","h2.product-details-product-title","h1.product-info__title",".product-detail-part>h2[itemprop='name']","h2.single_product__title","#product-description h1.h2","h1.product-item-caption-title.-product-page"].join(","),c=["h1.product__section-title","h1.product-single__title-text",'h1[itemprop="name"]',".proBoxInfo>h1",".product-header","h1.title-primary"].join(","),d=s.join(",");return e.other1=l,e.other2=d,e.other3=c,e}();let t=[];if(60521283835===n&&887===o&&"product"===a&&(Review.proType="price",te=document.querySelector(".price.price--large")),61263184030===n&&130315813022===r&&"product"===a&&(Review.proType="price",te=document.querySelector(".product-price")),te||(t=document.querySelectorAll(e.main),Review.proType="main",Review.proSel=e.main,te=2===t.length?t[0].classList.value!==t[1].classList.value||t[0].tagName!==t[1].tagName?t[0]:u||isHomeShowRating?t[0]:t[1]:t[0]),!te){t=gt(".shop-product__title,h1.product-title,h1.product_title"),0!==t.length&&(te=t[0])}if(te||(t=document.querySelectorAll(e.other1),Review.proType="other1",Review.proSel="`"+e.other1+"`",0===t.length&&(t=document.querySelectorAll(e.other2),Review.proType="other2",Review.proSel="`"+e.other2+"`"),0===t.length&&(t=document.querySelectorAll(e.other3),Review.proType="other3",Review.proSel="`"+e.other3+"`"),te=2===t.length?t[0].classList.value!==t[1].classList.value||t[0].tagName!==t[1].tagName?t[0]:u||isHomeShowRating?t[0]:t[1]:58382778500===n?t[1]:t[0]),te){Review.productTarget=te;let e=window.getComputedStyle(te).color;St.innerHTML+=`\n                    .product-reviews-num{\n                        color: ${e} !important;\n                    }\n                    `}else"product"===a&&(Review.proSel="null",nt(5,"主题产品页评价未找到嵌入位置"))}function Ae(){switch(o){case 679:ie=document.querySelectorAll(".grid-item a p");break;case 730:ie=document.querySelectorAll(".grid-product__title");break;case 775:ie=document.querySelectorAll(".product-card__name");break;case 766:ie=document.querySelectorAll(".product-item__title");break;case 887:case 1356:case 1363:case 1368:0===(ie=57064587311===n&&887===o?gt(".caption-with-letter-spacing.light"):document.querySelectorAll(".h5>.full-unstyled-link")).length&&(ie=document.querySelectorAll(".card-information__text")),0===ie.length&&(ie=document.querySelectorAll(".product__title"));break;case 829:ie=document.querySelectorAll(".card__name,.spf-product-card__title");break;case 578:ie=document.querySelectorAll(".product__title a");break;case 796:ie=document.querySelectorAll(".product-card__title");break;case 380:var e=document.querySelectorAll(".grid-link__container .grid__item");ie=[],e.forEach(e=>{ie.push(e.querySelector(".grid-link__title"))});break;case 885:if(At=!0,ie=gt(".product-card__title-wrapper"),isProductPage){let e=vt(".shopify-section .product");e&&(ee=e.offsetWidth)}break;default:At=!0,qe()}At||0===ie.length&&qe(),ie=Array.from(ie),"product"===a&&(ie=ie.filter(e=>e!==te&&!te.contains(e))),Review.collectionTarget=ie}function qe(){if("collection"===a||"home"===a||"product"===a){let e;if(e=".product-details>span.title,.apb_product_list_product_item_title,.grid_title,.collection__grid-item__details,\n                .popup_cart_title>a,h3.product-title,a.ga-product_title,h4.title-product,.grid-item .inner-top>.product-bottom>a.product-title,\n                .product__grid__title,.pt-title.prod-thumb-title-color,.product-item-meta__title",ie=document.querySelectorAll(e),Review.collType="type1",0===ie.length&&(e=".product-bottom>.product-title,.product-details>.product-title,.product-item__details a,.info .title,.product-name>a,\n                    .collectionBlock__title>a,.product-grid-item>p,.innerer>.title,.grid__product-content>a,.ht-product-title>a,.h5>.full-unstyled-link,\n                    li.product .card-title,.list_prod .title-product,.product.slick-slide .card-title,.product-title-price,.prd-title,.product-info>h3.title14,\n                    .list-view-item__title-column>a,.gt_product-name>h2,.block.text-base,.tt-description>h2.tt-title,.desc>h5,.product-item__title",ie=document.querySelectorAll(e),Review.collType="type2"),130949284058===Review.theme.id&&62755897562===n){let e=(ie=document.querySelectorAll(".product-content a")).length;ie=Array.from(ie).slice(e/3*2,e)}0===ie.length&&(e="span.title,.ftr,.product-grid-desc>h3,.gt_product-name,p.list-product__title,.product--details-container,.product--item-title,\n                    .product-grid-item__product-name,h3.card__name.h4,.grid-crop-title,.title-wrap,h3>span.overflowed,.product-grid--title>a,a.gf_product-title,\n                    a>.indiv-product-title-text,h2.product_name,.sf__pcard-content .max-w-full,h2.product-card__title,.proName>a",ie=document.querySelectorAll(e),Review.collType="type3"),0===ie.length&&(e=".product-title,.product__title,.grid-product__title,.product-block__title,\n                    .grid-view-item__title,.product-card__name,.ProductItem__Title,.product-info>a>h2,\n                    .card-information__text,span.indiv-product-title-text,.card__title,h4.product_name,\n                    .productitem--title,.grid-link__title,.boost-pfs-filter-product-item-title,.product-collection__title,\n                    .col_product_text_color,.js-product-details-link",ie=document.querySelectorAll(e),Review.collType="type4"),Review.coll_dqsa="document.querySelectorAll(`"+e+"`)"}}async function Te(e){let i=2;if(e){i=1;var r=e}var o="",n='<div class="icon-list" style="display:flex;align-items:center;"></div>';if(ie.length&&1===i){for(var s=0;s<ie.length;s++){let e="",t=window.getComputedStyle(ie[s]).textAlign;if("center"===t?e="center":"right"===t?e="right":ie[s].classList.remove("center"),ie[s]&&-1!==r[s].rating&&!ie[s].parentNode.querySelector(".collection-icon-list,.seal-stars"))if(2===ve.is_show_stars_without_review&&0===r[s].rating);else{let t,i=window.getComputedStyle(ie[s]).color;t=J?r[s].total_reviews+" reviews":`(${r[s].total_reviews})`,ie[s].style.margin=0,n=`<div class="collection-icon-list ${e}" >${o=ot(14,14,r[s].rating,!0)}<div class='collection-reviews-num' style="color:${i}" >${t}</div></div>`,ie[s].insertAdjacentHTML("afterEnd",n)}}("product"!==a||0===gt(".collection-icon-list").length&&"product"===a)&&ke()}else if(te&&2===i){if(vt(".product-icon-list",te.parentNode))return;let e=window.getComputedStyle(te.parentNode);if("flex"===e.display&&"column"!==e.flexDirection&&(te=te.parentNode),2===ve.is_show_stars_without_review&&0===le.rating);else{let e="",i=window.getComputedStyle(te).textAlign;"center"===i?e="center":"right"===i&&(e="right"),e&&(re=`justify-content: ${e};`);let r,a,s=we.reviews,l="";g?r="("+le.total_reviews+")":v?r="("+le.total_reviews+") "+s:2===f?(l=`<span style="font-size:14px;margin:3px 5px 0 0">${le.rating}</span>`,r="("+le.total_reviews+" "+s+") "):r=le.total_reviews+" "+s,o=ot(16,16,le.rating,!0,f),n=`<div class="product-icon-list" style="align-items:center;${re}" >${l+o}<a class='product-reviews-num' >${r}</a></div>`,te.insertAdjacentHTML("afterEnd",n),te.style.marginBottom=0,"temas do chupiska"!==t.name&&"Warehouse pirrainha"!==t.name||(vt(".product-icon-list").style.marginBottom="20px"),a=m?m.querySelector(".product-icon-list"):document.querySelector(".product-icon-list"),a.onclick=function(e){"A"!==e.target.tagName&&"svg"!==e.target.tagName&&"path"!==e.target.tagName||se&&mt(se)}}}}function Me(e){var t="",i="",r="";let o=2===w?'class="review-head-type2"':"",n="";if($&&(n="color:"+$+";border:1px solid "+$),k&&(n+=`background-color:${k};border:none;`),L&&(n+=`color:${L};`),y)t=`<div id="reviews-head">\n            <p class="mix-review-title">${we.customer_reviews}</p>\n            <p class="mix-review-num"></p>\n            <p class="no-review-tip" style="display:none">There are no reviews yet</p></div>`;else{var p=`<button class="head-button"  style="display: ${x?"none":"flex"};${P?`top:${E};right: ${N}`:""};${n}">\n                     ${we.write_reviews}\n                </button>`;let e=`<div class="head-power" style="display:${1===ve.is_del_powered?"none":"flex"}">Powered by <img class='head-power-icon'style="width:50px;margin:-5px 0 0 0.5px;" src='https://cdn.vstar.app/static/images/newLogn_2.png' /></div>`;var m=`<div class="head-center" style="display:${2===w?"none":"block"}">\n                <p class="star-raw"><span class="star-count">5 ${we.star}</span><span class="star-range"></span><span class="star-num"></span></p>\n                <p class="star-raw"><span class="star-count">4 ${we.star}</span><span class="star-range"></span><span class="star-num"></span></p>\n                <p class="star-raw"><span class="star-count">3 ${we.star}</span><span class="star-range"></span><span class="star-num"></span></p>\n                <p class="star-raw"><span class="star-count">2 ${we.star}</span><span class="star-range"></span><span class="star-num"></span></p>\n                <p class="star-raw"><span class="star-count">1 ${we.star}</span><span class="star-range"></span><span class="star-num"></span></p>\n                </div>`;t=`<div id="reviews-head" ${o}>${'<div class="head-left"></div>'+m+e+p}</div>`,u&&(t=`<div id="reviews-head" ${o}>${'<div class="head-left"></div>'+p+m}</div>`)}var v=`<div id="reviews-body">\n            ${"grid-"!==layoutClass||u?"":`<button class="grid-review-body-button" style="display:none">${we.more}</button>`}\n            </div>`;if(i="grid-"==layoutClass?"":'<div id="reviews-footer">\n                \n                </div>',u?i=`<div id="reviews-footer"><button style="display:none" class="footer-button">${we.more}</button></div>`:0!=ee&&(r=`width: ${ee}px;`),Re(`<div id="reviews-wrapper" style="display:${d?"block":"none"}" class="seal-review" ><div id="vstar-reviews" style='${""+r}'>${t+v+i}</div></div>`,e.tarNode,e.position),document.querySelector("#reviews-wrapper").style.width="100%",R&&"collection"===a?(se=e.tarWindow.querySelector("#vstar-reviews"),ae=se.querySelector("#reviews-body")):(se=document.querySelector("#vstar-reviews"),ae=document.querySelector("#reviews-body")),se.style.display="none",G){let e=document.createElement("button");e.innerText="VOIR LES AVIS",e.style.cssText="color:#fff;background-color:black;width:137px;height:36px;border:none;margin:15px auto;display:block;border-radius:5px",e.onclick=function(){ae.style.display="block","grid-"===layoutClass&&Fe(),this.remove()},se.appendChild(e),ae.style.display="none"}if(We(),tt(),"grid-"==layoutClass&&(ae.style.padding="0"),ae.addEventListener("click",(function(e){let t=!1;e.target.classList.contains("img-item")?(ge=De(e.target.parentNode),"list-"==layoutClass?ge.view(e.target.querySelector("img").getAttribute("index")):ge.show(),t=!0):"IMG"==e.target.tagName&&((ge=De(e.target.parentNode.parentNode)).view(e.target.getAttribute("index")),t=!0),t&&vt(".viewer-canvas").addEventListener("click",(function(e){"IMG"===e.target.tagName&&ge.destroy()}))})),ce=parseInt(window.getComputedStyle(se).width),"grid-"==layoutClass){u?(me=313,Ct=38):(St.innerHTML+="#vstar-reviews .grid-review-body-item {width: 239px;}",me=239,Ct=16),yt=parseInt(ce/(me+16)),ae.style.width=yt*(me+16)-16+"px";for(let e=0;e<yt;e++)xt.push(0)}if(y||se.querySelector(".head-button").addEventListener("click",(function(){document.body.style.overflow="hidden",document.querySelector(".review-mask").style.display="block"})),u){var g=document.querySelector(".footer-button");g.style.color=ve.font_color,g.style.backgroundColor=ve.box_bg_color,g.addEventListener("click",e=>{e.target.setAttribute("disabled",!0),Ie(1),Ne()})}else layoutClass;Ie(3,1),se.setAttribute("productId",l),se.setAttribute("imgSrc",c),se.setAttribute("productName",s),Ne()}function Re(e,t,i="beforebegin"){let s=!1;var l=document.getElementById("seal-review-widget");if(l)l.insertAdjacentHTML("beforeEnd",e);else{let l=null,c=p.get_move_review_info;if(Object.keys(c).length){c.page.split(",").includes(a)&&(l=vt(c.selector),i=c.position,s=1===c.is_tab_review)}else 125980213412===r&&59062976676===n?l=vt(".wrapper--bottom"):129733296374===r&&61688021238===n?l=vt("#shopify-section-product-recommendations"):129077477563===r&&27086946356===n?l=vt("#shopify-section-template--15400505999547__recommended"):122648559676===r&&55123411004===n?l=vt(".container.related-and-upsells"):120633884898===r&&55062364386===n?l=vt(".container-indent.wrapper-social-icon"):129126727870===r&&56848646334===n?(i="afterend",l=vt('[data-section-type="featured-product"]')):131764125914===r&&51076333760===n?(i="beforeend",l=vt(".tabs-review")):127916146936===r&&55742103716===n?l=vt("[data-product-recommendations-container]"):125565305026===r&&57929662658===n?l=vt("#shopify-section-carousel-related-products"):131567616253===r&&63306236157===n?l=vt(".section-description.box.section-border"):131866427621===r&&63362826469===n?l=vt(".shopify-section:nth-child(16)"):132113563868===r&&62361895132===n?l=vt('.shopify-section[id$="__recommendations'):132049535208===r&&64043843816===n||127365873871===r&&50748784847===n||128334463182===r&&56763973838===n?l=vt('.shopify-section[id$="__product-recommendations"]'):132066115812===r&&63897796836===n?(i="afterend",l=vt(".pf-357_")):124692529357===r&&55010427085===n?(i="afterbegin",l=vt("#product-template-tabs-product-template_2")):132247650557===r&&60276605181===n?"home"===a&&(l=vt(".sf-icon-box.bg-dark")):130607087800===r&&62180917432===n?"home"===a&&(l=vt(".newsletter.center")):129983185054===r&&61432889502===n?(i="afterend",l=vt('.shopify-section[id$="__page"]')):124075081865===r&&57322897545===n?"home"===a&&(l=vt(".shopify-section.js-section__home-inline")):131544613110===r&&59835154600===n?l=vt('section[data-name="Benefit List"]'):129179484310===r&&59835121814===n?l=vt('[data-pf-type="Section"]:nth-child(4)'):124434317449===r&&57745342601===n?"home"===a&&(l=vt('.shopify-section[id$="__text-with-icons"]')):132481155297===r&&53271363765===n?(i="beforeend",l=vt("#collapse-tab4>div")):132532961515===r&&63886262507===n?(i="afterbegin",l=vt(".Collapsible__Inner")):128654639285===r&&59322892469===n?(i="afterend",l=vt(".row.theiaStickySidebar")):132777279723===r&&63974867179===n?(i="afterend",l=vt(".grid")):128334463182===r&&56763973838===n?l=vt('.shopify-section[id$="__recently-viewed-products"]'):132581785819===r&&64505675995===n?l=vt(".shopify-section:nth-child(6)"):129179484310===r&&59835121814===n?l=vt('[data-pf-type="Section"]:nth-child(4)'):130780299449===r&&56884756665===n?l=vt("#shopify-section-guarantee"):60390965441===n?l=vt(".cta-section"):829===o&&52738916547===n?l=vt(".product__submedia-list"):887===o&&63717998821===n?(i="afterend",l=vt(".slider-mobile-gutter")):796===o&&56052449442===n?l=vt(".shopify-section.index-section:last-child"):887===o&&59019165834===n?l=vt('.shopify-section.section[id$="__image-with-text"]'):887===o&&(63363449090===n||63737233664===n||51772817582===n||63913427199===n||54985326644===n)||796===o&&55501062241===n||829===o&&63640830205===n||129416560871===r&&61057597671===n||130330034334===r&&61263184030===n||124608970805===r&&57347571765===n?l=vt("footer"):1356===o&&63673073885===n||1500===o&&57307791404===n||1356===o&&55856726114===n?l=vt(".newsletter.center"):1356===o&&55618338861===n?l=vt('[id^="shopify-section-template"].shopify-section>.color-background-1.gradient'):1356===o&&64032014564===n?l=vt(".footer__content-bottom"):887===o&&64134807811===n?(i="afterend",l=vt(".shopify-section.section-featured-product")):601===o&&61165371585===n?(i="afterend",l=vt(".product-page__content")):1356===o&&58200686729===n?(i="afterend",l=vt(".product__view-details")):1499===o&&60309733530===n?"home"===a?l=vt(".multicolumn.color-accent-1.gradient.background-none"):"product"===a&&(l=vt('.shopify-section.section[id$="__multicolumn-6"]')):124655763509===r&&57680592949===n?"home"===a&&(i="afterend",l=vt(".shopify-section--rich-text")):796===o&&56182374555===n?l=vt(".shopify-section:nth-child(13)"):125459890314===r&&58991575178===n?(i="afterend",l=vt(".hxsZTX:last-child")):t&&(l=t);switch(n){case 50212339891:130891153587===r&&(l=vt("#tab_rivui>.sp-tab-content"),s=!0,i="afterbegin");break;case 61263184030:130315813022===r&&(l=vt("#shopify-product-reviews>.tab-pane"),s=!0,i="afterbegin");break;case 61467263223:132049731831===r&&(l=vt(".review_widget_other"),s=!0,i="afterbegin");break;case 61686907059:130458157235===r&&(l=vt(".shopify-section:nth-child(4)"));break;case 57929662658:129769373890===r&&(l=vt('.shopify-section[id$="__related-products"]'));break;case 64613712109:case 64810483954:case 61870211259:(132988305645===r||133083726066===r||129899495611===r)&&(l=vt("footer"));break;case 64061800695:132881449207===r&&(l=vt("#shopify-section-product-recommendations"));break;case 57064587311:126598774831===r&&(l=vt(".newsletter.center"));break;case 62782865654:131153199350===r&&(l=vt("#shopify-section-newsletter"));break;case 61782786233:129960935609===r&&(l=gt(".col-6")[1],i="beforeend");break;case 61666492631:"home"===a&&132843471063===r&&(l=vt(".mount-newsletter")),"product"===a&&132843471063===r&&(l=vt(".box__product-content>.site-box-content"),i="afterend")}let d,u=document.querySelector("#shopify-section-footer"),m=document.querySelector("main"),v=document.querySelector("footer"),g=vt('.shopify-section[id$="__main"],#shopify-section-product-template');if(l?(l.insertAdjacentHTML(i,e),d=l):g?(g.insertAdjacentHTML("afterend",e),d=g):m?m.contains(v)?(v.insertAdjacentHTML("beforebegin",e),d=v):(m.insertAdjacentHTML("afterend",e),d=m):u?(u.insertAdjacentHTML("beforebegin",e),d=u):v?(v.insertAdjacentHTML("beforebegin",e),d=v):nt(5,"主题产品页评论区未找到嵌入位置"),d){let e=vt("#reviews-wrapper");e&&e.setAttribute("tarWid",window.getComputedStyle(d).width),s&&function(){let e=document.querySelector("#reviews-wrapper");if(e){e=e.parentNode,ft(e,{attributes:!0},(function(e,t){for(let i of e)"style"!==i.attributeName&&"class"!==i.attributeName||"none"!==window.getComputedStyle(i.target).display&&"grid-"===layoutClass&&(Fe(),t.disconnect())}))}}()}}}function He(e,t="beforeend",i=5,r,o){for(var n=0,a=parseInt(i/2),s=` <ul class="page-control">\n                <button style="display:none" class="page-control-button pre-page" ><svg style="width:13px;height:13px" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.84 2.066V1.031c0-.09-.104-.14-.173-.084L.629 5.662a.427.427 0 0 0 0 .674l6.038 4.716a.107.107 0 0 0 .173-.085V9.932a.217.217 0 0 0-.082-.169L1.936 6l4.822-3.765a.217.217 0 0 0 .082-.169z" fill="${ve.font_color}"/></svg>\n                </button>`,l=1;l<=i;l++)s+=`<li class="page-control-item ${1===l?"active":""} " index="${l-1}" >${l}</li>`;if(s+=`<button class="page-control-button next-page"><svg style="width:13px;height:13px" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.398 5.663L.36.947a.107.107 0 0 0-.172.085v1.035c0 .065.03.128.081.169L5.091 6 .269 9.765a.213.213 0 0 0-.081.169v1.035c0 .09.103.14.172.084l6.038-4.715a.428.428 0 0 0 0-.675z" fill="${ve.font_color}" fill-opacity=".85"/></svg>\n                </button>\n                </ul>`,e.insertAdjacentHTML(t,s),r<5&&1!==r){var c=e.querySelectorAll(".page-control-item");for(l=r;l<5;l++)c[l].style.display="none"}setTimeout(()=>{1===r&&m(2)},0);var d=se.querySelectorAll(".page-control-item"),u=se.querySelector(".pre-page");u.onclick=function(){n--,Ie(2);let e=Ie();1==e&&m(1);e==r-1&&m(2);o&&o(e);v(1)};var p=se.querySelector(".next-page");function m(e){1==e?"none"===u.style.display?u.style.display="flex":u.style.display="none":2==e&&("none"===p.style.display?p.style.display="flex":p.style.display="none")}function v(e){let t=Ie();se.querySelector(".page-control-item.active");n>a&&d[i-1].innerHTML<=r||n<a&&d[0].innerHTML>1?(t+a>r||t-a<=0?se.querySelector(".page-control-item.active").classList.remove("active"):n!=a&&(se.querySelector(".page-control-item.active").classList.remove("active"),n=a,d[a].classList.add("active")),function(){let e=Ie();var t=!1,o=e-a,s=e+a;e+a>r?(t=!0,o=r-2*a,i%2==0&&o++,s=r):i%2==0&&s--;o<=0&&(t=!0,s=(o=1)+2*a);for(var l=0,c=o;c<=s;c++)c===e&&t&&(d[l].classList.add("active"),n=l),d[l].innerHTML=c,l++}()):(se.querySelector(".page-control-item.active").classList.remove("active"),d[n].classList.add("active"))}p.onclick=function(){Ie(1);let e=Ie();n++,2==e&&m(1);e==r&&m(2);o&&o(e);v(2)},se.querySelectorAll(".page-control-item").forEach(e=>{e.onclick=function(){prePage=se.querySelector(".page-control-item.active").innerHTML;let t=parseInt(this.innerHTML);Ie(3,t),o&&o(t),n=e.getAttribute("index"),1==prePage&&1!=t?m(1):1!=prePage&&1==t&&m(1),prePage!=r&&t==r?m(2):prePage==r&&t!=r&&m(2),v()}})}function Ie(e,t){let i=parseInt(se.getAttribute("page"));if(0===arguments.length)return i;1===arguments.length?(1===e?i++:i--,se.setAttribute("page",i)):2===arguments.length&&se.setAttribute("page",t)}function Ee(){let e=kt;kt&&ut()<1040&&(e+=8),kt&&$t.forEach(t=>{t.style.width=e+"px"})}async function Ne(){let t;couldPreLoading=!1,imgCount=0,loadedImgCount=0,fe=[];let i=Ie();if(u||"grid-"==layoutClass)[wt,t]=await e.getProRevList(),oe.push(t.list),_e||(y&&(0===t.page.count?(se.style.display="block",se.querySelector(".no-review-tip").style.display="block"):vt(".mix-review-num",se).innerText+=t.page.count+" "+we.reviews.toLowerCase()),_e=t.page.total_page,se.setAttribute("pageCount",_e)),je(oe[i-1]);else if(ne[i-1]&&!R)Be(oe[i-1]);else{[wt,t]=await e.getProRevList(),se.getAttribute("pageCount")||(y&&(0===t.page.count?(se.style.display="block",se.querySelector(".no-review-tip").style.display="block"):vt(".mix-review-num",se).innerText+=t.page.count+" "+we.reviews.toLowerCase()),_e=t.page.total_page,se.setAttribute("pageCount",_e),!u&&"list-"===layoutClass&&_e>1&&!S&&new He(se.querySelector("#reviews-footer"),"beforeend",5,_e,Ne));const r=t.list;oe[i-1]=r,ne[i-1]=!0,0!==se.querySelectorAll(".list-review-body-item").length?Be(r):je(r)}}function Pe(e){let t="";imageFlag=!1;return e.forEach((e,i)=>{var r=0,o=0,n="";let a;B&&(a=B),e.width<e.height?(o=a,r=(a/parseInt(e.height)*parseInt(e.width)).toFixed(2),n="background-size:auto 100%;"):(r=a,o=(a/parseInt(e.width)*parseInt(e.height)).toFixed(2)),t+=`<div class="img-item" style="${n}"><img index="${i}" width="${r}"  height="${o}" data-original="${e.src}"  src="${e.thumb_src}" ></div>`,imgCount++,fe.push(e.thumb_src),he.push(e.src)}),t}function je(e){u||"grid-"==layoutClass||(ae.innerHTML="");if(F&&1===Ie()&&(St.innerHTML+="#vstar-reviews .star{display:flex;align-items:center}\n                #vstar-reviews .rev-rating-num{font-size:15px;margin-left:8px}"),e.forEach((t,i)=>{if("grid-"===layoutClass&&(Z&&5!==t.rating||W&&0===t.images.length))return;var r;r=ot(14,14,t.star);var o="",n="",a="";"grid-"==layoutClass?0!=t.images.length&&t.images.forEach((e,i)=>{if(0==i){var r=(me/parseInt(t.images[0].width)*parseInt(t.images[0].height)).toFixed(2);o+=`<div class="img-item" style="height:${r}px" ><img index="${i}"   height="${r}" data-original="${e.src}"  src="${e.src}" ></div>`,imgCount++,fe.push(e.thumb_src)}else o+=`<div class="img-item" ><img style="display:none" index="${i}"  data-original="${e.src}"  src="${e.thumb_src}" ></div>`;he.push(e.src)}):(n="",0!=t.images.length?n='<div class="img-list">'+Pe(t.images)+"</div>":u&&(a="margin-bottom:48px"));var s="",l="";let c="";F&&(c=t.star);let d="";if(D&&(d='<span ><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path fill-rule="evenodd" clip-rule="evenodd" d="M7 14C10.866 14 14 10.866 14 7C14 3.13401 10.866 0 7 0C3.13401 0 0 3.13401 0 7C0 10.866 3.13401 14 7 14ZM5.30236 10.7724C5.45276 10.9239 5.64913 11 5.84629 11C6.04267 11 6.23982 10.9239 6.39022 10.7724L11.775 5.32765C12.075 5.02399 12.075 4.532 11.775 4.22834C11.4742 3.92389 10.9871 3.92389 10.6871 4.22834L5.84629 9.1223L3.31288 6.56115C3.01286 6.25748 2.52581 6.25748 2.22501 6.56115C1.925 6.86481 1.925 7.35758 2.22501 7.66125L5.30236 10.7724Z" fill="#FFC000"/>\n            </svg></span>\n            '),z){let e=t.author;t.author=e.split(" ")[0]}if("dmy"===Q&&t.commented_at){let e=t.commented_at.split("/"),i=e[0];e[0]=e[1],e[1]=i,t.commented_at=e.join("/")}u&&"list-"==layoutClass?s=`<p class="reviews-date">${t.commented_at}</p>`:"grid-"==layoutClass?l=`<p class="reviews-date">${t.commented_at}</p>`:s=`<p class="reviews-date">${t.commented_at}</p>`;var p="";1==ve.is_show_country_flag&&(p=`<span class="country-flag ${t.author_country}" style="${t.author_country?"border: 1px solid #ccc;":""}" ></span> <span class="country-name">${t.author_country}</span>`);let m="",v="";"grid-"===layoutClass&&(bt++,m='style="visibility:hidden"',v=`id="card${bt}"`);var g=`<div class="${layoutClass}review-body-item "  ${v} ${m||""} >\n                        ${o}\n                        ${s}\n                <div class="${layoutClass}review-body-item-head">\n                    <p class="star"> ${r} <span class="rev-rating-num" > ${c} </span> </p>\n                    ${l}\n                    <div class="user-message">  \n                    <span class="user-name">${t.author}</span>\n                    ${d}\n                            ${p}                                      \n                             \n                    </div>\n                </div>\n                <div class="${layoutClass}review-body-item-body">\n                    <p class="reviews-text"  style="line-height: 22px;${a}">\n                        \n                    </p>\n                ${n}\n       \n                    \n                </div>\n                \n            </div>`;ae.insertAdjacentHTML("beforeend",g),1===Ie()&&i===e.length-1&&(se.style.display="block");var h=document.querySelectorAll(".reviews-text");ze(h[h.length-1],t.content,bt)}),"grid-"===layoutClass){let e=Ie();u||(document.querySelector(".grid-review-body-button").onclick=function(e){e.target.setAttribute("disabled",!0),Ie(1),Ne()}),setTimeout(()=>{if(1===e){Fe(!1),vt('.grid-review-body-item[style$="top: 16px;"]')&&(Review.isGridAgain=!0,setTimeout(()=>{Fe(!1)},700))}else Fe(!0);u?e>=_e||1===_e?document.querySelector("#reviews-footer").remove():(document.querySelector(".footer-button").removeAttribute("disabled"),document.querySelector(".footer-button").style.display="block"):e>=_e||1===_e?(document.querySelector(".grid-review-body-button").style.display="none",ae.style.height=parseInt(ae.style.height)-100+"px"):(document.querySelector(".grid-review-body-button").removeAttribute("disabled"),!S&&(document.querySelector(".grid-review-body-button").style.display="block"))},500)}u&&"list-"===layoutClass&&(Ie()>=_e||1===_e?document.querySelector("#reviews-footer").remove():(document.querySelector(".footer-button").style.display="flex",document.querySelector(".footer-button").removeAttribute("disabled"))),It(he,5)}function Be(e){let t=!0;const i=se.querySelectorAll(".list-review-body-item");if(e.forEach((o,a)=>{"none"==i[a].style.display&&(i[a].style.display="block");var s;if(s=ot(14,14,e[a].star),ze(i[a].querySelector(".reviews-text"),e[a].content),1==ve.is_show_country_flag){const t=i[a].querySelector(".country-flag");t.className=`country-flag ${e[a].author_country}`,e[a].author_country?t.style.border="1px solid #ccc":t.style.border="none",i[a].querySelector(".country-name").innerHTML=e[a].author_country}switch(n){case 62152474880:132769775872===r&&(t=!1);break;case 25576079394:123570454551===r&&(t=!1)}if(t){const t=i[a].querySelector(".img-list");if(e[a].images.length>0){const r=Pe(e[a].images);if(t)t.innerHTML=r;else{const e=`<div class="img-list">\n                                                  ${r}\n                                              </div>`;i[a].querySelector(".list-review-body-item-body").insertAdjacentHTML("beforeend",e)}}else t&&(t.innerHTML="")}if(i[a].querySelector(".star").innerHTML=s,i[a].querySelector(".user-name").innerHTML=e[a].author,"dmy"===Q&&o.commented_at){let t=e[a].commented_at.split("/"),i=t[0];t[0]=t[1],t[1]=i,e[a].commented_at=t.join("/")}i[a].querySelector(".reviews-date").innerHTML=e[a].commented_at,It(he,5)}),e.length<layoutReviewCount)for(let t=e.length;t<layoutReviewCount;t++)i[t].style.display="none";var o=se.querySelectorAll(".reviews-text .display-text");0!=o.length&&o.forEach(e=>{e.onclick=function(){var t=e.parentNode;t.querySelector(".remain-text").removeAttribute("hidden"),e.remove(),t.textContent=t.textContent.replace("...","")}}),mt(se)}function Oe(e){e.onclick=function(){var e=this.parentNode;e.querySelector(".remain-text").removeAttribute("hidden");const t=this.getAttribute("index"),i=this.getAttribute("cardId");this.remove(),e.textContent=e.textContent.replace("...",""),function(e,t){const i=document.querySelector(`#card${t}`);var r=parseInt(i.style.top),o=i.offsetHeight+r+Ct;o>xt[e-1]&&(xt[e-1]=o);document.querySelectorAll(`.column${e}`).forEach(i=>{parseInt(i.id.slice(4))>t&&(i.style.top=o+"px",(o=o+i.offsetHeight+Ct)>xt[e-1]&&(xt[e-1]=o))});var n=Math.max.apply(null,xt);ae.style.height=u?n+"px":n+150+"px"}(t,i)}}var Ve=Ze(Fe,200),We=Ze(()=>{if(et(),u)se.style.width="100vw",1356!==Review.theme.theme_store_id&&887!==Review.theme.theme_store_id||(se.style.width="calc(100vw - 3rem)");else if(I)se.style.width="100%";else if(0!=ee){let e=parseInt(window.getComputedStyle(se.parentNode).width);se.style.width=ee>e?e+"px":ee+"px",Ee()}else if(0===ee){Ee();let e=ut();if(e>=1040){let e=parseInt(window.getComputedStyle(se.parentNode).width);if(100===e)e=se.parentNode.getAttribute("tarWid");else if(e>1040)e="1040px";else{if(e<678){let e=vt(".head-button",se);e.style.top="35px",e.style.right="40px"}e+="px"}se.style.width=e}else se.style.width=e+"px"}ut()<1040&&!u&&"grid-"==layoutClass&&document.querySelectorAll(".grid-review-body-item").forEach(e=>{e.style.width||(e.style.width="239px",e.querySelectorAll("i").forEach(e=>{e.style.fontSize="16px"}))})},100);function Ze(e,t){var i=null;return function(){i&&clearTimeout(i),i=setTimeout(()=>{e()},t)}}function Fe(e=!1){ce=parseInt(window.getComputedStyle(se).width);var t=document.querySelectorAll(".grid-review-body-item");if(yt=parseInt(ce/(me+16)),!e){xt=[];for(let e=0;e<yt;e++)xt.push(0)}for(var i=0;i<t.length;i++){if(e&&"hidden"!==t[i].style.visibility)continue;var r;_t=Math.min.apply(null,xt),r=xt.findIndex(e=>e===_t),xt[r]=xt[r]+t[i].clientHeight+Ct;const o=t[i].querySelector(".display-text");o&&o.setAttribute("index",r+1),t[i].className=`grid-review-body-item column${r+1}`,t[i].style.left=r*(me+16)+"px",t[i].style.top=_t+"px",t[i].style.visibility="visible"}var o=Math.max.apply(null,xt);ae.style.height=u?o+"px":o+150+"px",ae.style.width=yt*(me+16)-16+"px"}async function ze(e,t,i,r=de){var o=window.getComputedStyle(e)["line-height"],n=r*parseInt(o);await new Promise((e,t)=>{setTimeout(()=>e(),100)});var a=t;e.innerHTML=a;var s=a.length;let l="";if(e.offsetHeight<=n);else{for(var c,d=0,u=s;e.offsetHeight>n;)c=(d+u)/2,e.innerHTML=a.substring(0,c),e.offsetHeight<=n?(e.innerHTML=a.substring(0,u),d=c):u=c-1;l=a.substring(0,u)}if(l){let r=`<span class="display-text" ${i?`cardId="${i}"`:""} >...${ye}</span><span hidden class="remain-text">${t.substr(l.length)}</span>`;e.insertAdjacentHTML("beforeend",r),Oe(vt(".display-text",e))}}function De(e){return new Viewer(e,{url:"data-original",title:!1,fullscreen:!0,interval:1500,movable:!1,hide:()=>{ge.destroy()},simpleMode:{isOpen:!0},toolbar:{}})}function Ue(){var t="",i="";u?i='<a class="window-close"><svg style="width:35px;height:35px" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><circle fill-opacity=".505" fill="#000" cx="15" cy="15" r="15"/><path d="M14.127 15L7 7.872a.617.617 0 0 1 .873-.873L15 14.127 22.128 7a.617.617 0 0 1 .873.873L15.873 15 23 22.128a.617.617 0 0 1-.873.873L15 15.873 7.872 23a.617.617 0 0 1-.873-.873L14.127 15z" fill="#FFF"/></g></svg>\n                </a>':(i='<a  class="window-close"><svg style="width:14px;height:14px" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M6.99968 5.95621L1.25984 0.216371C1.12066 0.0819462 0.934254 0.00756417 0.740764 0.00924555C0.547273 0.0109269 0.362184 0.0885372 0.225361 0.225361C0.0885372 0.362184 0.010927 0.547273 0.00924558 0.740764C0.0075642 0.934254 0.0819463 1.12066 0.216371 1.25984L5.95547 6.99968L0.216371 12.7395C0.147807 12.808 0.0934101 12.8894 0.056285 12.9789C0.01916 13.0685 3.431e-05 13.1644 4.612e-08 13.2614C-3.42178e-05 13.3583 0.0190236 13.4543 0.0560853 13.5439C0.0931471 13.6334 0.147487 13.7148 0.216002 13.7834C0.284518 13.8519 0.365867 13.9063 0.455405 13.9435C0.544944 13.9806 0.640917 13.9997 0.737847 13.9997C0.834777 13.9998 0.930764 13.9807 1.02033 13.9437C1.10989 13.9066 1.19128 13.8523 1.25984 13.7837L6.99968 8.04316L12.7395 13.7837C12.8081 13.8523 12.8895 13.9067 12.9791 13.9438C13.0687 13.9809 13.1647 14 13.2616 14C13.3586 14 13.4546 13.9809 13.5442 13.9438C13.6338 13.9067 13.7152 13.8523 13.7837 13.7837C13.8523 13.7152 13.9067 13.6338 13.9438 13.5442C13.9809 13.4546 14 13.3586 14 13.2616C14 13.1647 13.9809 13.0687 13.9438 12.9791C13.9067 12.8895 13.8523 12.8081 13.7837 12.7395L8.04316 6.99968L13.7837 1.25984C13.9221 1.12137 13.9998 0.933605 13.9997 0.737847C13.9997 0.542089 13.9218 0.354375 13.7834 0.216002C13.6449 0.0776292 13.4571 -6.91476e-05 13.2614 4.61754e-08C13.0656 6.92399e-05 12.8779 0.0779003 12.7395 0.216371L6.99968 5.95547V5.95621Z" fill="#999999"/>\n                </svg>\n                </a>',t='<span class="text-num">0/2000</span>');var r=`\n          <div class="window-head">\n            ${i}\n            <span class="head-title">${we.write_reviews}</span>\n          </div>`;Et(c);var o=`<div class="product-image" style="background-image:url('${c}')"></div>`,a=`<div class="review-star">\n                        ${ot(16,16,5)}\n            \n          </div>`,d=`<form action="" class="review-message">\n          <div class="reviews-window-form-smallInputArea">\n            <div class="name-area inline">\n                \n                <input type="text" class="small-input user-input" placeholder="${we.name}">\n                <div class="addreview-form-tip"><p class="addreview-form-tip-text"></p></div>\n            </div>\n            \n            <div class="email-area inline" style="display:block">\n                \n                <input type="text" class="small-input user-input" placeholder="${we.email}">\n                <div class="addreview-form-tip"><p class="addreview-form-tip-text"></p></div>\n            </div>\n          </div>\n          <div class="review-area">\n          \n            <textarea name="" id=""  class="big-input user-input" placeholder="${we.feedback}" ></textarea>\n            \x3c!-- <input type="text" class="big-input" > --\x3e\n            <div class="addreview-form-tip"><p class="addreview-form-tip-text"></p>${t}</div>\n          </div>\n          \n          <div class="form-image-list">\n            \n            <div class="upload-image-area" style="display : ${q?"none":"flex"}">\n                    \n                <input type="file" multiple class="upload-input" accept="image/gif,image/jpeg,image/jpg,image/png">\n                <span class="upload-image-text"><svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Shape</title><g id="前端" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="详情页4" transform="translate(-624.000000, -702.000000)" fill="#585858"><g id="编组-2" transform="translate(574.000000, 208.000000)"><g id="编组-33" transform="translate(24.000000, 478.000000)"><path d="M45.0697674,26.9530026 L36.8397933,26.9530026 L36.8397933,35.0600522 C36.8397933,35.5796345 36.4237726,36 35.9095607,36 L35.9095607,36 C35.3953488,36 34.9793282,35.5796345 34.9793282,35.0600522 L34.9793282,26.9530026 L26.9302326,26.9530026 C26.4160207,26.9530026 26,26.5326371 26,26.0130548 L26,26.0130548 C26,25.4934726 26.4160207,25.073107 26.9302326,25.073107 L34.9793282,25.073107 L34.9793282,16.9399478 C34.9793282,16.4203655 35.3953488,16 35.9095607,16 L35.9095607,16 C36.4237726,16 36.8397933,16.4203655 36.8397933,16.9399478 L36.8397933,25.073107 L45.0697674,25.073107 C45.5839793,25.073107 46,25.4934726 46,26.0130548 L46,26.0130548 C46,26.5326371 45.5839793,26.9530026 45.0697674,26.9530026 L45.0697674,26.9530026 Z" id="Shape" transform="translate(36.000000, 26.000000) scale(1, -1) translate(-36.000000, -26.000000) "></path></g></g></g></g></svg></span>\n                <span class="upload-image-text">${we.add_photo}</span>\n                <span class="images-num">0/5</span>\n            </div>\n          </div>\n          <button disabled class="form-submit" style="${$?"color:"+$+";border:1px solid "+$+";border-radius:6px;background-color: white;":""}" type="button">${we.submit}</button>\n          </form>`;window_product=`<div class="window-product">${o}<div class="product-right"></div>${a}</div>`;var p=`<div class="mask review-mask" style="display:none"><div id="add-review" >${r+window_product+d}</div></div>`;if(document.body.insertAdjacentHTML("beforeEnd",p),document.querySelector("#add-review textarea").style.fontFamily=window.getComputedStyle(document.querySelector("#add-review input")).fontFamily,s){var m=document.querySelector(".product-right");s.length>200?m.innerHTML=s.substring(0,200)+"...":m.innerHTML=s}vt("#add-review").addEventListener("touchmove",e=>{e.stopPropagation()},!1),document.querySelector(".form-submit").onclick=function(){this.style.backgroundColor=$?"white":"#CCCCCC",this.innerHTML=`${we.submitting}`,ct(this,u?20:12),this.setAttribute("disabled",!0),function(){if(Ce)return void lt("Please comment again after 15 seconds");var t=document.querySelectorAll(".review-message .user-input"),i=t[0].value,r=t[1].value,o=t[2].value,a={product_id:l,shop_id:n,rating:T,author:i,author_email:r,content:o,images:be.map(e=>e.url)};"object"==typeof returnCitySN&&(a.ip=returnCitySN.cip);a=JSON.stringify(a),e.uploadReview(a).then(e=>{null===e[0]?(vt(".review-mask").style.display="none",Je(),Qe(),document.body.style.overflow="hidden",vt(".tip-mask").style.display="block",Ce=!0,setTimeout(()=>Ce=!1,1500)):(Je(),lt(`${we.error_tip}`,"1%"),nt(6,"发送评论失败，原因如下："+err))}).catch(e=>{Je(),lt(`${we.error_tip}`,"1%"),nt(6,"发送评论失败，原因如下："+e)})}()};var v=document.querySelectorAll(".user-input");if(u){var g=function(){var e=navigator.userAgent,t=e.indexOf("Android")>-1||e.indexOf("Adr")>-1,i=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);if(t)return"android";if(i)return"ios"}(),h=document.querySelector("#add-review"),f=window.getComputedStyle(h).getPropertyValue("height"),w=function(e){"android"==g&&(vt("#add-review").style.overflow="hidden");var t=setInterval(()=>{window.getComputedStyle(h).getPropertyValue("height")!=f&&("android"==g&&(vt("#add-review").style.overflow="scroll",vt("#add-review").scrollTop=230),clearInterval(t))},200)};gt("#add-review .user-input").forEach(e=>e.addEventListener("click",w)),gt("#add-review .user-input").forEach(e=>e.addEventListener("focus",w))}let y=Ze(Ke,500);v.forEach(e=>{e.onblur=function(){var e=this.parentNode.querySelector(".addreview-form-tip-text");""==this.value&&(e.innerHTML=`<div class="input-tip"><svg style="width:14px;height:14px" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M7 14C3.14042 14 0 10.8601 0 7C0 3.14042 3.14039 0 7 0C10.8601 0 14 3.13991 14 7C14 10.8601 10.8601 14 7 14ZM7 1.00445C3.69387 1.00445 1.00445 3.69384 1.00445 7C1.00445 10.3056 3.69384 12.9956 7 12.9956C10.3056 12.9956 12.9956 10.3062 12.9956 7C12.9956 3.69384 10.3056 1.00445 7 1.00445ZM6.24666 3.73555C6.24666 4.15161 6.58394 4.4889 7 4.4889C7.41606 4.4889 7.75334 4.15161 7.75334 3.73555C7.75334 3.31949 7.41606 2.98221 7 2.98221C6.58394 2.98221 6.24666 3.31949 6.24666 3.73555ZM7 11.0178C6.72276 11.0178 6.49776 10.7933 6.49776 10.5156V5.99555C6.49776 5.71831 6.72276 5.49332 7 5.49332C7.27724 5.49332 7.50224 5.71831 7.50224 5.99555V10.5156C7.50224 10.7933 7.27724 11.0178 7 11.0178Z" fill="#E45454"/>\n                        </svg><span>${we.required}</span>\n                        </div>`,this.classList.add("error-border"))},e.addEventListener("input",(function(){var e,t=this.parentNode.querySelector(".addreview-form-tip-text");if(t.innerHTML="",this.classList.remove("error-border"),this.parentNode.classList.contains("email-area")){!/^(\w)+(\.\w+)*@(\w)+((\.\w{2,3}){1,3})$/.test(this.value)&&this.value?(t.innerHTML=`<svg style="width:14px;height:14px" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M7 14C3.14042 14 0 10.8601 0 7C0 3.14042 3.14039 0 7 0C10.8601 0 14 3.13991 14 7C14 10.8601 10.8601 14 7 14ZM7 1.00445C3.69387 1.00445 1.00445 3.69384 1.00445 7C1.00445 10.3056 3.69384 12.9956 7 12.9956C10.3056 12.9956 12.9956 10.3062 12.9956 7C12.9956 3.69384 10.3056 1.00445 7 1.00445ZM6.24666 3.73555C6.24666 4.15161 6.58394 4.4889 7 4.4889C7.41606 4.4889 7.75334 4.15161 7.75334 3.73555C7.75334 3.31949 7.41606 2.98221 7 2.98221C6.58394 2.98221 6.24666 3.31949 6.24666 3.73555ZM7 11.0178C6.72276 11.0178 6.49776 10.7933 6.49776 10.5156V5.99555C6.49776 5.71831 6.72276 5.49332 7 5.49332C7.27724 5.49332 7.50224 5.71831 7.50224 5.99555V10.5156C7.50224 10.7933 7.27724 11.0178 7 11.0178Z" fill="#E45454"/>\n                    </svg><span>${we.email_error}</span>\n                    `,this.classList.add("error-border")):this.value||(t.innerHTML="\n                    ",this.classList.remove("error-border"))}else this.classList.contains("big-input")&&!u&&function(){var e=document.querySelector(".big-input"),t=e.value.length;t>=2e3&&(e.value=e.value.substr(0,2e3),t=2e3);document.querySelector(".text-num").innerHTML=`${t}/2000`}();this.classList.contains("small-input")&&(e=this).value.length>=120&&(e.value=e.value.substr(0,120)),y()}))});var _=document.querySelector(".upload-input");document.querySelector(".upload-image-area");_.onchange=Ge,document.querySelector(".window-close").onclick=function(){Qe(),Ye()};document.querySelector(".form-image-list");var b=document.querySelectorAll("#add-review .star-item");Xe(T);for(var C=1;C<=b.length;C++)b[C-1].index=C,b[C-1].onmouseover=function(){Xe(this.index)},b[C-1].onmouseout=function(){Xe(0)},b[C-1].onclick=function(){T=this.index}}function Ge(){let t=!1;var i=document.querySelectorAll(".form-image-item").length;let r=vt(".upload-image-area");var o=this.files.length;this.files.length+i>=5&&(o=5-i,this.parentNode.style.display="none");for(var a=0;a<o;a++){var s=new FileReader;s.readAsDataURL(this.files[a]),s.onloadend=async function(i){if(i.target.readyState==FileReader.DONE){ue++,document.querySelector(".images-num").innerHTML=`${ue}/5`;let s=pe++;var o=document.createElement("div");o.className="form-image-item",o.setAttribute("index",s),o.innerHTML='<div class="hover-image" style="display:none"><svg class="icon-delete" style="width:21px;height:22px" viewBox="0 0 21 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <path d="M2.04167 4.4H0.875C0.642936 4.4 0.420376 4.31308 0.256282 4.15836C0.0921874 4.00364 0 3.7938 0 3.575C0 3.3562 0.0921874 3.14635 0.256282 2.99164C0.420376 2.83692 0.642936 2.75 0.875 2.75H20.125C20.3571 2.75 20.5796 2.83692 20.7437 2.99164C20.9078 3.14635 21 3.3562 21 3.575C21 3.7938 20.9078 4.00364 20.7437 4.15836C20.5796 4.31308 20.3571 4.4 20.125 4.4H3.79167V18.975C3.79167 19.1556 3.82939 19.3344 3.90268 19.5012C3.97596 19.668 4.08338 19.8196 4.2188 19.9473C4.35422 20.075 4.51499 20.1762 4.69192 20.2453C4.86885 20.3144 5.05849 20.35 5.25 20.35H15.75C15.9415 20.35 16.1311 20.3144 16.3081 20.2453C16.485 20.1762 16.6458 20.075 16.7812 19.9473C16.9166 19.8196 17.024 19.668 17.0973 19.5012C17.1706 19.3344 17.2083 19.1556 17.2083 18.975V6.875C17.2083 6.6562 17.3005 6.44635 17.4646 6.29164C17.6287 6.13692 17.8513 6.05 18.0833 6.05C18.3154 6.05 18.538 6.13692 18.7021 6.29164C18.8661 6.44635 18.9583 6.6562 18.9583 6.875V18.975C18.9583 20.6456 17.5219 22 15.75 22H5.25C3.47812 22 2.04167 20.6456 2.04167 18.975V4.4ZM8.16667 1.65C7.9346 1.65 7.71204 1.56308 7.54795 1.40836C7.38385 1.25365 7.29167 1.0438 7.29167 0.825C7.29167 0.606196 7.38385 0.396354 7.54795 0.241637C7.71204 0.0869194 7.9346 0 8.16667 0H12.8333C13.0654 0 13.288 0.0869194 13.4521 0.241637C13.6161 0.396354 13.7083 0.606196 13.7083 0.825C13.7083 1.0438 13.6161 1.25365 13.4521 1.40836C13.288 1.56308 13.0654 1.65 12.8333 1.65H8.16667ZM7.29167 9.075C7.29167 8.8562 7.38385 8.64635 7.54795 8.49164C7.71204 8.33692 7.9346 8.25 8.16667 8.25C8.39873 8.25 8.62129 8.33692 8.78539 8.49164C8.94948 8.64635 9.04167 8.8562 9.04167 9.075V15.675C9.04167 15.8938 8.94948 16.1036 8.78539 16.2584C8.62129 16.4131 8.39873 16.5 8.16667 16.5C7.9346 16.5 7.71204 16.4131 7.54795 16.2584C7.38385 16.1036 7.29167 15.8938 7.29167 15.675V9.075ZM11.9583 9.075C11.9583 8.8562 12.0505 8.64635 12.2146 8.49164C12.3787 8.33692 12.6013 8.25 12.8333 8.25C13.0654 8.25 13.288 8.33692 13.4521 8.49164C13.6161 8.64635 13.7083 8.8562 13.7083 9.075V15.675C13.7083 15.8938 13.6161 16.1036 13.4521 16.2584C13.288 16.4131 13.0654 16.5 12.8333 16.5C12.6013 16.5 12.3787 16.4131 12.2146 16.2584C12.0505 16.1036 11.9583 15.8938 11.9583 15.675V9.075Z" fill="white"/>\n                            </svg>\n                            </div>\n                            ';let c=await new Promise((e,t)=>{dt(i.target.result,o,e)});if(c=c.replace(/[/]/g,"%2F").replace(/[=]/g,"%3D").replace(/[+]/g,"%2B").replace(/[;]/g,"%3B").replace(/[,]/g,"%2C"),e.uploadImage({shop_id:n,product_id:l,index:s,base64_data:c}).then(e=>{if(null===e[0]){let t=e[1].index;vt(`.form-image-item[index="${t}"]>.loader`).remove(),0===gt(".form-image-item>.loader").length&&Ke(),be.push({index:t,url:e[1].src})}else{let t=e[0].params.index;ue--,vt(`.form-image-item[index="${t}"]`).remove(),vt(".images-num").innerHTML=`${ue}/5`,lt("Failed to upload image"),vt(".upload-image-area").style.display="flex"}}),r.before(o),ct(o,15),t||(t=!0,Ke()),u){var a=document.createElement("div");a.style.backgroundImage="url(https://cdn.vstar.app/static/images/delete.svg)",a.className="image-delete",o.appendChild(a),a.onclick=function(){be.splice(this.parentNode.getAttribute("index"),1),document.querySelectorAll(".form-image-item").forEach((e,t)=>{e.setAttribute("index",t)}),this.parentNode.remove(),4==--ue&&(vt(".upload-image-area").style.display="flex"),vt(".images-num").innerHTML=`${ue}/5`}}else o.onmouseover=function(){vt(".loader",this)||(vt(".hover-image",this).style.display="block")},o.onmouseleave=function(){vt(".hover-image",this).style.display="none"},vt(".hover-image",o).onclick=function(){let e=this.parentNode.getAttribute("index"),t=be.findIndex(t=>t.index===e);be.splice(t,1),this.parentNode.remove(),ue--,vt(".upload-image-area").style.display="flex",vt(".images-num").innerHTML=`${ue}/5`}}}}this.value=""}function Je(e){var t=document.querySelector(".form-submit");t.querySelector(".loader").remove(),t.style.backgroundColor=$?"white":"rgb(51, 51, 51)",t.innerHTML=`${we.submit}`,t.removeAttribute("disabled")}function Qe(){ue=0,pe=0,[],be=[],ht(".user-input").val(""),ht(".addreview-form-tip-text").text("");let e=gt(".error-border");e.length&&e.forEach(e=>e.classList.remove("error-border")),gt(".form-image-item").length&&gt(".form-image-item").forEach(e=>e.remove()),ht(".images-num").text("0/5"),vt(".upload-image-area").style.display="flex",u||(document.querySelector(".text-num").innerHTML="0/2000");const t=document.querySelector(".form-submit");t.setAttribute("disabled",!0),t.style.backgroundColor=$?"white":"#CCCCCC",T=5,Xe(T)}function Xe(e){lis=document.querySelectorAll("#add-review .star-item");for(var t=e||T,i=0;i<lis.length;i++){u&&("bigNoStar","bigStar"),i<t?lis[i].querySelector("svg path").setAttribute("fill",ve.star_color):lis[i].querySelector("svg path").setAttribute("fill","#d9d9d9")}}function Ke(){var e=document.querySelectorAll(".user-input"),t=document.querySelector(".form-submit"),i=!0;e.forEach(e=>{e.value||(i=!1)});let r=0===gt(".form-image-item>.loader").length;i&&r&&0==document.querySelectorAll(".addreview-form-tip-text svg").length?(t.removeAttribute("disabled"),t.style.backgroundColor=$?"white":"#333333"):(t.setAttribute("disabled",!0),t.style.backgroundColor=$?"white":"#CCCCCC")}function Ye(){ht(".mask").css("display","none"),document.body.style.overflow="scroll"}function et(){let e=!1;switch("product"===a&&(e=!0),t.theme_store_id){case 679:if(e){let e=vt("#shopify-section-product-template");e&&(ee=e.offsetWidth)}break;case 730:if(e){let e=vt(".wrapper");e&&(ee=e.offsetWidth)}break;case 775:if(e){let e=vt(".page-width");e&&(ee=e.offsetWidth)}break;case 766:if(e){let e=vt(".main-content");e&&(ee=e.offsetWidth)}break;case 887:if(e){let e=vt(".page-width");e&&(ee=e.offsetWidth)}At=!0;break;case 829:if(e){let e=vt(".product-template__media");e&&(ee=e.offsetWidth)}break;case 578:if(e){let e=vt(".site-header");e&&(ee=e.offsetWidth)}break;case 796:if(e){let e=vt(".product-template__container");e&&(ee=e.offsetWidth)}break;case 380:if(e){let e=vt(".wrapper");e&&(ee=e.offsetWidth)}break;case 885:if(e){let e=vt(".shopify-section .product");e&&(ee=e.offsetWidth)}}}function tt(){if(829===Review.theme.theme_store_id&&(62497980648===n||63640830205===n)){let e=document.querySelector("main"),t=window.getComputedStyle(e).marginBottom;se.parentNode.style.cssText=`margin:-80px 0 ${t};position: relative;z-index: 3;`,se.setAttribute("isMargin",!0),e.style.marginBottom="0px",document.body.onscroll=function(){document.querySelector("main").style.marginBottom=0}}}function it(e,t,i,r=!1){return new Promise((o,n)=>{!function(e,t={},i="get",r,o=!1,n){let a=new XMLHttpRequest,s="";s=o?e:"https://api.vstar.app/api/v1/"+e;let l="";"object"==typeof t&&(l=Object.keys(t).reduce((e,i)=>e+"&"+i+"="+t[i],"")),"post"==i?(a.open(i,s,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l=l?l.slice(1):t,a.send(l)):"get"==i&&(l&&(l=l.replace("&","?"),s+=l),a.open(i,s,!0),a.send()),a.onreadystatechange=()=>{4==a.readyState&&(resData=a.responseText,200==a.status?r&&r(resData):n&&n(resData))}}(e,t,i,o,r,n)}).then(e=>(e=JSON.parse(e),r||(e=e.data),[null,e])).catch(e=>[{error:e,params:t}])}async function rt(t={}){[wt,le]=await e.getProductRating();let i=!1;if((2!=ve.is_activate_product_rating&&"product"===a||2!=ve.is_activate_home_rating&&"home"===a||R)&&(Shopify.designMode||document.getElementById("seal-star-rating-widget")||("home"===a?te&&Te():Se(1))),document.getElementById("seal-review-widget")&&(i=!0),1===ve.is_activate_reviews&&"product"===a||i||b&&"home"===a){if(vt("#reviews-wrapper,#noreviews-wrapper"))return;if(et(),0===document.querySelectorAll(".mask").length&&(Ue(),function(){const e="https://cdn.vstar.app/static/images/Vector.png";var t=`\n            <div class="window-title">\n                ${we.success_message}\n            </div>`;Et(e);var i=`<div class="mask tip-mask" style="display:none"><div id="success-window">${'<div class="window-close"><svg style="width:14px;height:14px" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M6.99968 5.95621L1.25984 0.216371C1.12066 0.0819462 0.934254 0.00756417 0.740764 0.00924555C0.547273 0.0109269 0.362184 0.0885372 0.225361 0.225361C0.0885372 0.362184 0.010927 0.547273 0.00924558 0.740764C0.0075642 0.934254 0.0819463 1.12066 0.216371 1.25984L5.95547 6.99968L0.216371 12.7395C0.147807 12.808 0.0934101 12.8894 0.056285 12.9789C0.01916 13.0685 3.431e-05 13.1644 4.612e-08 13.2614C-3.42178e-05 13.3583 0.0190236 13.4543 0.0560853 13.5439C0.0931471 13.6334 0.147487 13.7148 0.216002 13.7834C0.284518 13.8519 0.365867 13.9063 0.455405 13.9435C0.544944 13.9806 0.640917 13.9997 0.737847 13.9997C0.834777 13.9998 0.930764 13.9807 1.02033 13.9437C1.10989 13.9066 1.19128 13.8523 1.25984 13.7837L6.99968 8.04316L12.7395 13.7837C12.8081 13.8523 12.8895 13.9067 12.9791 13.9438C13.0687 13.9809 13.1647 14 13.2616 14C13.3586 14 13.4546 13.9809 13.5442 13.9438C13.6338 13.9067 13.7152 13.8523 13.7837 13.7837C13.8523 13.7152 13.9067 13.6338 13.9438 13.5442C13.9809 13.4546 14 13.3586 14 13.2616C14 13.1647 13.9809 13.0687 13.9438 12.9791C13.9067 12.8895 13.8523 12.8081 13.7837 12.7395L8.04316 6.99968L13.7837 1.25984C13.9221 1.12137 13.9998 0.933605 13.9997 0.737847C13.9997 0.542089 13.9218 0.354375 13.7834 0.216002C13.6449 0.0776292 13.4571 -6.91476e-05 13.2614 4.61754e-08C13.0656 6.92399e-05 12.8779 0.0779003 12.7395 0.216371L6.99968 5.95547V5.95621Z" fill="#999999"/>\n                </svg></div>'+t+`<div class="window-image" style="background-image:url(${e})"></div>`+`<div class="window-content">${we.submitted_successfully}</div>`+`<div class="window-button"><button style="${$?"color:"+$+";border-radius:6px;background-color: white;border:1px solid "+$:""}">${we.continue_shopping}</button></div>`}</div></div>`;document.body.insertAdjacentHTML("beforeend",i),document.querySelector("#success-window .window-close").onclick=Ye,document.querySelector(".window-button").onclick=Ye}()),le&&0!=le.rating||y){if(Me(t),!y){var r=ot(18,18,le.rating,!0);let e="",t="";v&&(e="(",t=")");const i=2===w?'style="display:none"':"";var o=`\n                            <P class="head-title" ${i}>${we.customer_reviews}</P>\n                            <P class="point" ${i}> ${A?"":`<span class="bigPoint">${String(le.rating).replace(".",O).slice(0,V+1)}</span>/5`} </P>\n                            <P class="star">\n                                ${r}                                      \n                            </P>\n                            <P class="reviews-num">${e+le.total_reviews+t} ${we.reviews.toLowerCase()}</P>\n                            `;vt(".head-left",se).innerHTML=o;var s=se.querySelectorAll(".star-range"),l=se.querySelectorAll(".star-num");$t=se.querySelectorAll(".star-raw .star-count"),61870211259===n&&(St.innerHTML+="#vstar-reviews .star-count{font-size:14px}"),setTimeout(()=>{const e=window.getComputedStyle($t[0]).width;kt=parseInt(e)+5,$t.forEach(e=>{e.style.width=kt+"px"})},2e3),s.forEach((e,t)=>{var i=5-t;l[t].innerHTML=`(${le["total_star"+i]})`;var r=(le["total_star"+i]/le.total_reviews*100).toFixed(2);r+="%",e.style.cssText=`background:linear-gradient(to right, ${ve.star_color} 0%, ${ve.star_color} ${r},#eee ${r}, #eee)`})}}else{if(M)return;!function(e){let t=!0;59200471210===n&&(t=!1);let i="",r="";50212339891!==n||u||(r="left:50%;top: 0px;transform: translateX(-53%);"),k&&(i+=`background-color:${k};border:none;`),L&&(i+=`color:${L};`);let o="",a=`<button class="noreviews-button"  style="display: ${x?"none":"inline-block"};${i+r}">\n          ${we.write_reviews} </button>`;50212339891===n&&u&&(o=a,a="");const s=ot(18,17,0);Re(`  <div id="noreviews-wrapper" style="display:${d?"block":"none"}">  <div id="vstar-noreviews" class="seal-review">\n            ${o}\n            <div class="noreviews-title" style="display:${2===w?"none":"block"}">${we.customer_reviews}</div>\n            <div class="noreviews-center">\n                <div class="nostar-wrapper">\n                    <p class="noreviews-nostar" style="display:${t?"block":"none"}">\n                        ${s}\n                    </p>\n                </div>\n                <p class="noreviews-text">${we.no_reviews}</p>\n            </div>\n            ${a}\n            </div> </div>`,e),(se=document.querySelector("#vstar-noreviews")).querySelector(".noreviews-button").addEventListener("click",(function(){document.body.style.overflow="hidden",document.querySelector(".review-mask").style.display="block"})),tt()}(t.tarNode)}}}function ot(e,t=e,i,r=!1,o=1){let a=`<span class="star-item"><svg  style="width:${e}px;height:${t}px"\n                  viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">\n                  <path d="M14.389 11.29a.964.964 0 0 0-.255.827l.783 4.807c.062.381 0 .654-.296.882a.926.926 0 0 1-1.017.077l-4.191-2.377a.848.848 0 0 0-.826 0l-4.015 2.377a.926.926 0 0 1-1.017-.077c-.297-.228-.534-.5-.472-.882l.96-4.907a.964.964 0 0 0-.255-.826L.292 8.297a1.052 1.052 0 0 1-.245-1.04.981.981 0 0 1 .78-.692l4.547-.84a.891.891 0 0 0 .667-.51L8.135.566A.96.96 0 0 1 9 0c.368 0 .703.22.866.566l2.011 4.649c.13.275.38.466.668.51l4.63.84a.98.98 0 0 1 .778.691c.113.368.018.772-.245 1.041l-3.32 2.994z"\n                   fill="${ve.star_color}" fill-rule="evenodd"/></svg></span>\n                `;if(2===o)return a;let s="#d9d9d9";(56194465815===n||60477047035===n||62691705066===n&&887===Review.theme.theme_store_id||"Copy of Debutify 4.8.0 - OPT  "===Review.theme.name)&&(s="#bbb"),parseInt(i)||(i=0);for(var l="",c=Math.round(i),d=0;d<c;d++)l+=a;c<i&&r&&(c++,l+=`<span class="star-item half-star" >\n                <svg style="width:${e}px;height:${e}px" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd">\n                <path d="M14.389 11.29a.964.964 0 0 0-.255.827l.783 4.807c.062.381 0 .654-.296.882a.926.926 0 0 1-1.017.077l-4.191-2.377a.848.848 0 0 0-.826 0l-4.015 2.377a.926.926 0 0 1-1.017-.077c-.297-.228-.534-.5-.472-.882l.96-4.907a.964.964 0 0 0-.255-.826L.292 8.297a1.052 1.052 0 0 1-.245-1.04.981.981 0 0 1 .78-.692l4.547-.84a.891.891 0 0 0 .667-.51L8.135.566A.96.96 0 0 1 9 0c.368 0 .703.22.866.566l2.011 4.649c.13.275.38.466.668.51l4.63.84a.98.98 0 0 1 .778.691c.113.368.018.772-.245 1.041l-3.32 2.994z" fill="${s}"/><path d="M9 0v15.4a.851.851 0 0 0-.413.106l-4.015 2.377a.926.926 0 0 1-1.017-.077c-.297-.228-.534-.5-.472-.882l.96-4.907a.964.964 0 0 0-.255-.826L.292 8.297a1.052 1.052 0 0 1-.245-1.04.981.981 0 0 1 .78-.692l4.547-.84a.891.891 0 0 0 .667-.51L8.135.566A.96.96 0 0 1 9 0z" fill="${ve.star_color}"/></g></svg></span>`);for(d=0;d<5-c;d++)l+=`<span class="star-item nostar"><svg style="width:${e}px;height:${t}px" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">\n                <path d="M14.389 11.29a.964.964 0 0 0-.255.827l.783 4.807c.062.381 0 .654-.296.882a.926.926 0 0 1-1.017.077l-4.191-2.377a.848.848 0 0 0-.826 0l-4.015 2.377a.926.926 0 0 1-1.017-.077c-.297-.228-.534-.5-.472-.882l.96-4.907a.964.964 0 0 0-.255-.826L.292 8.297a1.052 1.052 0 0 1-.245-1.04.981.981 0 0 1 .78-.692l4.547-.84a.891.891 0 0 0 .667-.51L8.135.566A.96.96 0 0 1 9 0c.368 0 .703.22.866.566l2.011 4.649c.13.275.38.466.668.51l4.63.84a.98.98 0 0 1 .778.691c.113.368.018.772-.245 1.041l-3.32 2.994z" fill="${s}" fill-rule="evenodd"/></svg></span>\n                `;return l}function nt(t,i){e.sendErrorMsg(t,i)}function at(){return(new Date).getTime()}function st(e,t){return 2==t&&(t=1),"rgba("+parseInt("0x"+e.slice(1,3))+","+parseInt("0x"+e.slice(3,5))+","+parseInt("0x"+e.slice(5,7))+","+t+")"}function lt(e,t="10%",i="50%"){var r=document.createElement("div");r.className="toast",r.style.cssText=`left:${i};top:${t}`,r.innerHTML=e,document.body.appendChild(r),setTimeout(()=>{document.querySelector(".toast").remove()},1500)}function ct(e,t){var i=document.createElement("div");i.className="loader",i.style.cssText=`display: inline-block;width:${t}px;height:${t}px`,e.appendChild(i)}function dt(e,t,i){let r=new Image;r.src=e,r.onload=function(){let e=document.createElement("canvas"),o=e.getContext("2d"),n=r.width,a=r.height,s="";n<a&&(t.style.backgroundSize="auto 100%");let l=n,c=a;(n>1200||a>1200)&&(n/a>1?(l=1200,c=Math.round(a/n*1200)):(c=1200,l=Math.round(n/a*1200))),e.width=l,e.height=c,o.drawImage(r,0,0,l,c),s=e.toDataURL("image/jpg",.8),t.style.backgroundImage=`url(${s})`,i(s)}}function ut(){return window.innerWidth}"product"!=a&&885!==Review.theme.theme_store_id||window.addEventListener("resize",(function(){u||"grid-"!=layoutClass||Ve(),se&&We()}));var pt=0;const It=(e,t)=>{const i=[...e];if(i.length<=t){const e=i.map(e=>{var t=Et(e);return t.id=e,t});return Promise.all(e)}const r=i.splice(0,t).map(e=>{var t=Et(e);return t.url=e,t});i.reduce((e,t)=>e.then(()=>Promise.race(r)).catch(e=>console.log(e)).then(e=>{let i=r.findIndex(t=>t.url==e);r.splice(i,1);var o=Et(t);o.url=t,r.push(o)}),Promise.resolve()).then(()=>Promise.all(r))},Et=e=>new Promise((t,i)=>{var r=new Image;r.id=pt++,r.url=e,r.onerror=()=>{},r.onload=()=>{t(r.url)},r.src=e});function mt(e){e.scrollIntoView({behavior:"smooth",block:"start"})}function vt(e,t){let i;return i=t?t.querySelector(e):document.querySelector(e),i}function gt(e,t){let i;return t?nodeList=t.querySelectorAll(e):i=document.querySelectorAll(e),i}function ht(e,t){var i;i=t?t.querySelectorAll(e):document.querySelectorAll(e);let r=[];r.__proto__=ht.fn;for(var o=0;o<i.length;o++)r[o]=i[o];return r.length=i.length,r}function ft(e,t,i){Lt=new MutationObserver(i),Lt.observe(e,t)}ht.fn={css:function(...e){if(void 0!==this.length){let r;if(1===e.length){r=e[0];for(var t=0;t<this.length;t++)for(var i in r)this[t].style[i]=r[i]}else if(2===e.length){let i=e[0],r=e[1];for(t=0;t<this.length;t++)this[t].style[i]=r}}return this},eq:function(e){let t=this[e],i=[];return i.__proto__=ht.fn,i[0]=t,i},val:function(e){if(void 0===e)return this[0].value;for(var t=0;t<this.length;t++)this[t].value=e},text:function(e){if(void 0===e)return this[0].innerText;for(var t=0;t<this.length;t++)this[t].innerText=e}}}}()}();